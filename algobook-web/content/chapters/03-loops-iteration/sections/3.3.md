# While Loops: Condition-Based Repetition

Recall the contact search algorithm from section 1.1:

> **ALGORITHM: Sequential Contact Search**
> 1. Start at the first contact in the list
> 2. Compare current contact with target name
> 3. If match found, return contact information
> 4. If no match, move to next contact
> 5. **Repeat until target found or list exhausted**

For loops work well when you know exactly how many contacts to check. But what if you want to search until you find the target, regardless of how many contacts that takes? This is where while loops become essential.

**While loops** provide condition-based repetition: they continue until a condition becomes false. This enables implementing the "repeat until target found" logic from the contact search algorithm.

## Your First While Loop: Contact Search

Here's how a while loop can implement the "repeat until found" logic for contact search:

```python-execute
# Simple contact search using while loop
target_name = "Sarah Johnson"
found = False

print(f"Searching for {target_name}...")

# Simulate checking contacts one by one until target found
contact_number = 1
while not found:
    contact_name = input(f"Enter contact {contact_number} name (or 'quit' to stop): ")

    if contact_name == "quit":
        print("Search cancelled.")
        break
    elif contact_name == target_name:
        print(f"Found {target_name} at position {contact_number}!")
        found = True
    else:
        print(f"{contact_name} is not the target. Continuing search...")
        contact_number += 1

if found:
    print("Search completed successfully!")
```

The program continues searching until the target is found or the user quits. The following breakdown explains while loop syntax:

```note title="While Loop Structure"
```python
while not found:
    # loop body here
```

**Components:**
- `while` - The keyword that starts a while loop
- `not found` - The **condition** (loop continues while this is True)
- `:` - Marks the end of the condition
- **Indented code** - The body that gets repeated
- The loop continues as long as the condition evaluates to True
```

The while loop executes the body repeatedly until the condition becomes False (when `found` becomes True).

```note title="Loop Type Comparison"
- **For loops**: Execute a specific number of times
- **While loops**: Execute until a condition changes

**Examples:**
- For loop: "Print numbers 1 to 10" (exactly 10 times)
- While loop: "Ask for password until correct" (unknown number of times)
```

## While Loop Structure

Every while loop has three essential parts that work together:

```note title="While Loop Components"
### 1. Initialization (before the loop)
```python
# Set up the condition variable
number = float(input("Enter a positive number: "))
```

### 2. Condition (the test)
```python
# The loop continues while this is True
while number <= 0:
```

### 3. Update (inside the loop)
```python
# Change something so the condition can eventually become False
number = float(input("Enter a positive number: "))
```
```

```danger title="Infinite Loop Alert!"
If you forget to update the condition variable inside the loop, it will run forever! Your program will get stuck and never finish. Always make sure something changes inside the loop that can eventually make the condition False.
```

## While Loop vs For Loop: Making the Right Choice

### Use a **for loop** when:
- You know exactly how many repetitions you need
- You're working with sequences (numbers, lists, etc.)
- You're counting or iterating through items

```python-execute
# Perfect for a for loop - we know we want exactly 5 iterations
print("Countdown with for loop:")
for i in range(5, 0, -1):
    print(i)
print("Blast off!")
```

### Use a **while loop** when:
- You don't know how many repetitions you'll need
- You're waiting for a condition to become true/false
- You're validating user input
- You're processing data until you reach the end

```python-execute
# Perfect for a while loop - we don't know how many guesses it will take
import random

secret_number = random.randint(1, 10)
guess = 0

print("I'm thinking of a number between 1 and 10!")

while guess != secret_number:
    guess = int(input("What's your guess? "))
    if guess < secret_number:
        print("Too low!")
    elif guess > secret_number:
        print("Too high!")
    else:
        print(f"Correct! The number was {secret_number}")
        
print("Thanks for playing!")
```

```quiz
id: loop_choice
question: "Which type of loop would be best for calculating the factorial of a number (multiplying all numbers from 1 to n)?"
options:
  - id: a
    text: "For loop, because we know exactly how many numbers to multiply"
    correct: true
    explanation: "Correct! If we want 5!, we know we need to multiply exactly 5 numbers: 1×2×3×4×5."
  - id: b
    text: "While loop, because we don't know how many numbers to multiply"
    correct: false
    explanation: "We do know how many numbers - if calculating 5!, we multiply exactly 5 numbers."
  - id: c
    text: "Either would work equally well"
    correct: false
    explanation: "While both could work, a for loop is more natural when you know the exact count."
  - id: d
    text: "Neither - you can't calculate factorials with loops"
    correct: false
    explanation: "Loops are perfect for factorial calculations!"
```

## While Loop Examples

### Input Validation

While loops are useful for ensuring valid input:

```python-execute
# Contact number validation
print("Enter a contact number (1-10):")
contact_num = int(input("Contact number: "))

while contact_num < 1 or contact_num > 10:
    print("Invalid number. Must be between 1 and 10.")
    contact_num = int(input("Contact number: "))

print(f"You selected contact {contact_num}")
```

### Counting Until Goal

While loops can count until reaching a target:

```python-execute
# Count contacts processed until reaching goal
print("Processing contacts until we reach 5...")
contacts_processed = 0
goal = 5

while contacts_processed < goal:
    contacts_processed += 1
    print(f"Processed contact {contacts_processed}")

print("Goal reached! All contacts processed.")
```

### Accumulation Until Condition

Accumulating values until reaching a condition:

```python-execute
# Add contact processing times until total exceeds limit
total_time = 0
time_limit = 10
contact_num = 0

print(f"Processing contacts until total time exceeds {time_limit} seconds...")

while total_time <= time_limit:
    contact_num += 1
    processing_time = 2  # Each contact takes 2 seconds
    total_time += processing_time
    print(f"Contact {contact_num}: +{processing_time}s (total: {total_time}s)")

print(f"Time limit exceeded after processing {contact_num} contacts.")
```

## When to Use While vs For Loops

**Use for loops when:**
- You know exactly how many times to repeat
- You're processing a specific sequence

**Use while loops when:**
- You don't know how many repetitions you need
- You're waiting for a condition to change
- You're searching until something is found

The contact search algorithm naturally uses while loops because you search "until target found" - you don't know in advance how many contacts you'll need to check.

```quiz
id: while_loop_mechanics
question: "What will happen if you forget to update the loop variable inside a while loop?"
options:
  - id: a
    text: "The program will crash with an error"
    correct: false
    explanation: "No error occurs initially - the loop just keeps running forever until you manually stop the program."
  - id: b
    text: "The loop will run exactly once"
    correct: false
    explanation: "The loop will keep running as long as the condition is True."
  - id: c
    text: "The loop will run forever (infinite loop)"
    correct: true
    explanation: "Correct! Without updating the variable, the condition never changes, so the loop never stops."
  - id: d
    text: "Python will automatically update the variable"
    correct: false
    explanation: "Python doesn't automatically update variables - you must do it explicitly."
```

## Common While Loop Mistakes

Understanding common mistakes helps you write correct while loops:

### Infinite Loops
```python-execute
# WRONG: This would run forever
# counter = 1
# while counter <= 5:
#     print(counter)
#     # Forgot to increment counter!

# CORRECT: Always update the condition variable
counter = 1
while counter <= 5:
    print(counter)
    counter += 1  # Don't forget this!
```

The most important rule: **always update the variable that controls the condition** inside the loop body, or the loop will run forever.

## Summary

While loops provide condition-based repetition essential for implementing algorithms like contact search:

- **While loops** continue until a condition becomes false
- **Essential for uncertain repetition** - when you don't know how many times to loop
- **Always update the condition variable** inside the loop to avoid infinite loops
- **Three key patterns**: input validation, counting to goal, accumulation until condition met

You can now implement the "repeat until target found" step from the contact search algorithm using while loops.

**What's Next:** The next section combines for loops and while loops to solve complete algorithmic problems.